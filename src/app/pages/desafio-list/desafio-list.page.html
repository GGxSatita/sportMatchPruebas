<app-header></app-header>
<ion-content class="ion-padding">
  <ion-button class="create-desafio-btn" expand="full" (click)="goToPage('desafio')" fill="clear">
    Crear Desafío
  </ion-button>

  <ion-grid>
    <br><br>
    <ion-row>
      <ion-col size="12">
        <ion-list>
          <ng-container *ngFor="let desafio of desafios">
            <ion-card>
              <ion-grid>
                <ion-row>
                  <ion-col size="12" class="ion-text-center">
                    <ion-card-header>
                      <ion-card-title>{{ desafio }}</ion-card-title>
                    </ion-card-header>
                    <p>Deporte: {{ desafio.sport }}</p>
                    <p>Estado: {{ desafio.status }}</p>
                    <p>Retador: {{ desafio.participants[0]?.name }}</p>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="12" class="ion-text-center">
                    <ion-button fill="clear" (click)="toggleDesafioExpandido(desafio.id)">
                      <ion-icon slot="start" [name]="desafiosExpandido[desafio.id] ? 'chevron-up-circle' : 'chevron-down-circle'">
                      </ion-icon>
                      {{ desafiosExpandido[desafio.id] ? 'Menos Información' : 'Más Información' }}
                    </ion-button>
                  </ion-col>
                </ion-row>
                <div *ngIf="desafiosExpandido[desafio.id]" style="margin-top: 10px;">
                  <ion-grid>
                    <ion-row class="desafio-info-row">
                      <ion-col size="4"><ion-label color="primary"><strong>Participantes:</strong></ion-label></ion-col>
                      <ion-col size="8"><p>{{ desafio.participants.length }}</p></ion-col>
                    </ion-row>
                    <!-- Add other relevant details here -->
                  </ion-grid>
                </div>
              </ion-grid>
            </ion-card>
          </ng-container>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<app-footer></app-footer>
