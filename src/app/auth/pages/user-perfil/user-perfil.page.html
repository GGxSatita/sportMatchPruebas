<app-header></app-header>
<ion-content class="login-container">
  <!-- Spinner de carga mientras se obtienen los datos -->
  <ion-spinner *ngIf="cargando"></ion-spinner>

  <!-- Mostrar la información del usuario -->
  <div *ngIf="!cargando && user" class="login-card">
    <ion-card>
      <ion-card-header class="ion-text-center">
        <!-- Cargar la imagen de perfil o una imagen por defecto si no está disponible -->
        <div class="image-wrapper">
          <img [src]="user?.photo || 'assets/img/default-profile.png'"
               alt="Foto de perfil del usuario"
               (error)="handleImageError($event)"
               class="profile-image"/>
        </div>
        <ion-card-title class="login-header">{{ user?.name || 'Nombre no disponible' }}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <p>Email: {{ user?.email }}</p>
        <p *ngIf="userProfile?.edad">Edad: {{ userProfile.edad }}</p>
      </ion-card-content>
    </ion-card>

    <!-- Botón para ir a la página de edición de perfil -->
    <ion-button expand="block" (click)="goToEditProfile()">
      <ion-icon slot="start" name="create-outline"></ion-icon>
      Editar Perfil
    </ion-button>

  </div>
</ion-content>
<app-footer></app-footer>
